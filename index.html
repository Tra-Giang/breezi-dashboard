<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Breezi • Air Purifier Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      background: linear-gradient(135deg, #f0f4f8, #e8f1fb);
      color: #1e2a38;
      line-height: 1.6;
    }
    header {
      display: flex; justify-content: space-between; align-items: center;
      padding: 16px 28px; background: #ffffffd9; backdrop-filter: blur(10px);
      box-shadow: 0 2px 10px rgba(0,0,0,0.08); position: sticky; top: 0; z-index: 100;
    }
    .lang-user { display: flex; gap: 12px;}
    .lang-btn {
      background: transparent; border: 1.5px solid #ccc;
      padding: 8px 16px; border-radius: 10px; cursor: pointer;
      font-weight: 500; font-size: 15px; transition: 0.2s;
    }
    .lang-btn:hover { background: #e8f1fb; border-color: #99b8e4;}
    .container { display: grid; grid-template-columns: 1fr 1fr; gap: 22px; padding: 20px; }
    .card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(8px);
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      border: 1px solid rgba(255,255,255,0.6);
    }
    h2 { margin-top: 0; font-size: 20px; font-weight: 600; text-align: center; margin-bottom: 15px; }
    .aqi-value {
      font-size: 48px; font-weight: 600;
      text-align: center; padding: 16px; border-radius: 14px;
      margin-bottom: 12px; color: #fff; transition: background 0.4s ease;
    }
    .sensor-buttons { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 15px; }
    .sensor-buttons button { background: #edf4ff; border: none; padding: 10px 16px; border-radius: 12px; font-size: 14px; }
    .env-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; text-align: center; font-weight: 500; }
    .controls .control-row { display: flex; justify-content: space-between; align-items: center; margin: 14px 0; }
    .mode-buttons { display: flex; gap: 6px; }
    .mode-btn { padding: 6px 14px; border: 1px solid #ccc; border-radius: 20px; font-size: 13px; cursor: pointer; }
    .mode-btn.active[data-mode="auto"] { background:#4CAF50;color:white;}
    .mode-btn.active[data-mode="on"] { background:#2196F3;color:white;}
    .mode-btn.active[data-mode="off"] { background:#b0b0b0;color:white;}
    .fan-icon { display:inline-block; margin-left:8px; font-size:18px; }
    .spin { animation: spin 1s linear infinite; }
    @keyframes spin { 100% { transform: rotate(360deg); } }
    .tabs { text-align: center; margin-bottom: 8px;}
    .tabs button { margin: 5px; padding: 6px 14px; border: 1px solid #ccc; border-radius: 8px; background: #f5f8fb; cursor:pointer; }
    #metric-controls { text-align: center; margin-bottom: 10px; }
    #metric-controls label { margin: 0 8px; font-size: 13px; cursor: pointer; }
    #history-log { width: 100%; border-collapse: collapse; margin-top: 12px; font-size: 13px; }
    #history-log th, #history-log td { border: 1px solid #ddd; padding: 6px; text-align: center; }
    #history-log th { background: #f0f4f8; font-weight: 600; }
    footer { text-align: center; padding: 18px; background: #eef2f6; font-size: 14px; color: #555; margin-top: 20px; }
    @media (max-width:768px){ .container{grid-template-columns:1fr;} }
  </style>
</head>
<body>
  <header>
    <div class="logo"><h2>Breezi Air Purifier</h2></div>
    <div class="lang-user">
      <button class="lang-btn">EN</button><button class="lang-btn">VI</button>
    </div>
  </header>

  <div class="container">
    <div class="card">
      <h2>Air Quality Index</h2>
      <div id="aqi-box" class="aqi-value">AQI: 42 (Good)</div>
      <div id="main-pollutant" class="main-pollutant">Main Pollutant: PM2.5</div>
      <p id="aqi-warning" style="color: green;">✅ Air quality is fine!</p>
    </div>
    <div class="card">
      <h2>Sensor & Environment</h2>
      <div class="sensor-buttons">
        <button>PM2.5: 12 μg/m³</button>
        <button>PM10: 20 μg/m³</button>
        <button>CO: 0.5 ppm</button>
        <button>NO₂: 10 ppb</button>
        <button>SO₂: 5 ppb</button>
        <button>CO₂: 450 ppm</button>
        <button>VOCs: Low</button>
      </div>
      <div class="env-grid">
        <p>🌡 Temp: 26°C</p><p>💧 Humidity: 60%</p><p>🌬 Pressure: 1012 hPa</p><p>⛅ Weather: Sunny</p>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="card controls">
      <h2>Control Panel</h2>
      <div class="control-row">
        <span>Filter Fan <span id="fan-icon" class="fan-icon">🌀</span></span>
        <div class="mode-buttons" data-control="fan">
          <button class="mode-btn active" data-mode="auto">Auto</button>
          <button class="mode-btn" data-mode="on">On</button>
          <button class="mode-btn" data-mode="off">Off</button>
        </div>
      </div>
      <div class="control-row">
        <span>Sterilization Mist</span>
        <div class="mode-buttons" data-control="mist">
          <button class="mode-btn active" data-mode="auto">Auto</button>
          <button class="mode-btn" data-mode="on">On</button>
          <button class="mode-btn" data-mode="off">Off</button>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>Analytics & History</h2>
      <div class="tabs"><button>Hour</button><button>Day</button><button>Week</button></div>
      <div id="metric-controls">
        <label><input type="checkbox" value="AQI" checked> AQI</label>
        <label><input type="checkbox" value="PM2.5" checked> PM2.5</label>
        <label><input type="checkbox" value="PM10" checked> PM10</label>
        <label><input type="checkbox" value="CO"> CO</label>
        <label><input type="checkbox" value="NO₂"> NO₂</label>
        <label><input type="checkbox" value="SO₂"> SO₂</label>
        <label><input type="checkbox" value="CO₂"> CO₂</label>
        <label><input type="checkbox" value="VOCs"> VOCs</label>
        <label><input type="checkbox" value="Temp"> Temp</label>
        <label><input type="checkbox" value="Humidity"> Humidity</label>
        <label><input type="checkbox" value="Pressure"> Pressure</label>
      </div>
      <canvas id="multiChart"></canvas>
      <table id="history-log">
        <thead>
          <tr>
            <th>Time</th><th>AQI</th><th>PM2.5</th><th>PM10</th><th>CO</th><th>NO₂</th><th>SO₂</th><th>CO₂</th><th>VOCs</th><th>Temp</th><th>Humidity</th><th>Pressure</th>
          </tr>
        </thead>
        <tbody id="history-body"></tbody>
      </table>
    </div>
  </div>

  <footer>© 2025 Breezi • Air Purifier Dashboard</footer>

<script>
  // AQI COLOR
  function updateAQI(aqi){
    const aqiBox=document.getElementById('aqi-box');
    const aqiWarning=document.getElementById('aqi-warning');
    const mainPollutant=document.getElementById('main-pollutant');
    let color,text;
    if(aqi<=50){color="#4CAF50";text="Good";}
    else if(aqi<=100){color="#FFEB3B";text="Moderate";}
    else if(aqi<=150){color="#FF9800";text="Unhealthy (Sensitive)";}
    else if(aqi<=200){color="#F44336";text="Unhealthy";}
    else if(aqi<=300){color="#9C27B0";text="Very Unhealthy";}
    else{color="#7E0023";text="Hazardous";}
    aqiBox.style.background=color;
    aqiBox.textContent=`AQI: ${aqi} (${text})`;
    mainPollutant.textContent="Main Pollutant: PM2.5";
    aqiWarning.style.color=color;
    aqiWarning.textContent=aqi>100?"⚠️ Poor AQI! Consider filtration!":"✅ Air quality is fine!";
  }

  // MODE BUTTONS FAN SPIN
  document.querySelectorAll('.mode-buttons').forEach(group=>{
    const buttons=group.querySelectorAll('.mode-btn');
    buttons.forEach(btn=>{
      btn.addEventListener('click',()=>{
        buttons.forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        if(group.dataset.control==='fan'){
          const fan=document.getElementById('fan-icon');
          if(btn.dataset.mode==='on'||btn.dataset.mode==='auto'){fan.classList.add('spin');}
          else{fan.classList.remove('spin');}
        }
      });
    });
  });

  // MULTI-CHART DATA
  const labels=['8am','9am','10am','11am','12pm'];
  const metrics={
    AQI:[42,55,60,70,50],
    "PM2.5":[12,20,18,25,22],
    PM10:[20,25,30,28,24],
    CO:[0.5,0.6,0.4,0.5,0.45],
    "NO₂":[10,12,11,14,13],
    "SO₂":[5,6,4,5,5],
    "CO₂":[450,460,455,470,465],
    VOCs:[1,1.2,1.1,1.3,1],
    Temp:[26,26.2,26.5,26.8,27],
    Humidity:[60,61,62,63,62],
    Pressure:[1012,1013,1012,1014,1013]
  };
  const colors={
    AQI:'#4caf50',"PM2.5":'#2196f3',PM10:'#ff9800',CO:'#795548',"NO₂":'#f44336',"SO₂":'#9c27b0',"CO₂":'#009688',VOCs:'#8bc34a',Temp:'#ff5722',Humidity:'#00bcd4',Pressure:'#607d8b'
  };

  const datasets=Object.keys(metrics).map(m=>({
    label:m,data:metrics[m],borderColor:colors[m],fill:false,hidden: m!=="AQI"&&m!=="PM2.5"&&m!=="PM10"
  }));

  const ctx=document.getElementById('multiChart');
  const multiChart=new Chart(ctx,{type:'line',data:{labels:labels,datasets:datasets},
    options:{responsive:true,interaction:{mode:'nearest',axis:'x'},plugins:{legend:{position:'bottom'}}}
  });

  // Toggle metrics visibility
  document.querySelectorAll('#metric-controls input').forEach(chk=>{
    chk.addEventListener('change',()=>{
      const ds=multiChart.data.datasets.find(d=>d.label===chk.value);
      ds.hidden=!chk.checked;
      multiChart.update();
    });
  });

  // Populate History Log
  const tbody=document.getElementById('history-body');
  for(let i=0;i<labels.length;i++){
    const row=document.createElement('tr');
    row.innerHTML=`
      <td>${labels[i]}</td>
      <td>${metrics.AQI[i]}</td>
      <td>${metrics["PM2.5"][i]}</td>
      <td>${metrics.PM10[i]}</td>
      <td>${metrics.CO[i]}</td>
      <td>${metrics["NO₂"][i]}</td>
      <td>${metrics["SO₂"][i]}</td>
      <td>${metrics["CO₂"][i]}</td>
      <td>${metrics.VOCs[i]}</td>
      <td>${metrics.Temp[i]}°C</td>
      <td>${metrics.Humidity[i]}%</td>
      <td>${metrics.Pressure[i]} hPa</td>`;
    tbody.appendChild(row);
  }

  // Simulate AQI update every 3s
  setInterval(()=>updateAQI(Math.floor(Math.random()*400)),3000);
</script>
</body>
</html>
